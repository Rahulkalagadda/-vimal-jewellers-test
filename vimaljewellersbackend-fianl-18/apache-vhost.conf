<VirtualHost *:80>
    ServerName api.yourdomain.com
    ServerAdmin webmaster@localhost

    # Redirect HTTP to HTTPS (Optional but successfully recommended)
    # RewriteEngine on
    # RewriteCond %{SERVER_NAME} =api.yourdomain.com
    # RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]

    # Proxy Configuration to Node.js App
    ProxyRequests Off
    ProxyPreserveHost On
    ProxyVia Full

    <Proxy *>
        Require all granted
    </Proxy>

    # Forward traffic to the local Node.js server running on port 7502
    ProxyPass / http://127.0.0.1:7502/
    ProxyPassReverse / http://127.0.0.1:7502/

    # Error Logs
    ErrorLog ${APACHE_LOG_DIR}/vimal-backend-error.log
    CustomLog ${APACHE_LOG_DIR}/vimal-backend-access.log combined
</VirtualHost>
